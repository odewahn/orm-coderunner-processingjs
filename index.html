<html ng-app="console" xmlns="http://www.w3.org/1999/xhtml">
<head>


    <!-- Bootstrap core CSS -->
   <link rel="stylesheet" type="text/css" href="stylesheets/bootstrap.min.css"/>


   <!-- Includes for codemirror and jsrepl -->
   <script src="javascripts/jquery-2.1.1.min.js"></script>
   <script src="javascripts/angular.min.js"> </script>
   <script src="javascripts/processing.min.js"></script>
   <script src="javascripts/codemirror-compressed.js"></script>

   <!-- Includes for angular and the angular app -->
   <script src="app.js"></script>

   <!-- General stylesheet -->
   <link rel="stylesheet" type="text/css" href="stylesheets/coderunner.css"/>
   <link rel="stylesheet" type="text/css" href="stylesheets/codemirror.css"/>
   <link rel="stylesheet" type="text/css" href="stylesheets/html.css"/>
	
</head>

<body>

<a href="https://github.com/odewahn/orm-coderunner-jsrepl">
   <img src="assets/fork-on-github.png" class="fork-on-github">
</a>

<h1>Atlas Coderunner Plugin for processing.js</h1>


<p>This plugin if for processingjs.  It provides:</p>
<ul>
<li><a href="https://github.com/marijnh/codemirror">CodeMirror</a> for editing code sample.</li>
<li>the processingjs interpreter</li>
<li>a canvas where you can see the results</li>
</ul>

<p>These will allow you to:</p>
<ul>
<li>Transform code samples (with caveats!) in Atlas into a live example in your project</li>
<li>Edit the code samples in a nice editor</li>
<li>Click "Run" to execute the code</li>
<li>View the output on a canvas</li>
</ul>

<h2>Running some processingjs code</h2>

<pre data-executable="true" data-code-language="processingjs">
float framerate = 24; // our "sketch" will have a framerate of 24 frames per second.

int ball_x;           // ball administration: x coordinate
int ball_y;           // ball administration: y coordinate
int ball_radius = 20; // ball administration: ball radius

void setup() {
  size(200,200);        // set draw area size
  frameRate(framerate); // set animation framerate
  ball_x = width/2;     // set the initial ball coordinates
  ball_y = ball_radius; // set the initial ball coordinates
  stroke(#003300);      // set the default shape outline colour
  fill(#0000FF);        // set the default shape fill colour
}

void draw() {
  // compute the ball height for this frame
  float bounce_height = height/2 * abs(sin(PI*frameCount/framerate));
  // because the top of the screen is 0, and the bottom is "height",
  float ball_height = height - (bounce_height+ball_radius);
  // clear the drawing area
  background(#FFFFEE);
  // set the new ball y position
  ball_y = (int) (ball_height);
  // draw the ball
  ellipse(ball_x,ball_y,ball_radius,ball_radius);
}
</pre>


<h2>Running another processingjs example</h2>

<pre data-executable="true" data-code-language="processingjs">
	/* 
	  PROCESSINGJS.COM - BASIC EXAMPLE
	  Delayed Mouse Tracking  
	  MIT License - Hyper-Metrix.com/F1LT3R
	  Native Processing compatible 
	*/  

	// Global variables
	float radius = 50.0;
	int X, Y;
	int nX, nY;
	int delay = 16;

	// Setup the Processing Canvas
	void setup(){
	  size( 200, 200 );
	  strokeWeight( 10 );
	  frameRate( 15 );
	  X = width / 2;
	  Y = width / 2;
	  nX = X;
	  nY = Y;  
	}

	// Main draw loop
	void draw(){

	  radius = radius + sin( frameCount / 4 );

	  // Track circle to new destination
	  X+=(nX-X)/delay;
	  Y+=(nY-Y)/delay;

	  // Fill canvas grey
	  background( 100 );

	  // Set fill-color to blue
	  fill( 0, 121, 184 );

	  // Set stroke-color white
	  stroke(255); 

	  // Draw circle
	  ellipse( X, Y, radius, radius );                  
	}


	// Set circle's next destination
	void mouseMoved(){
	  nX = mouseX;
	  nY = mouseY;  
	}

</pre>
	
</body>

</html>